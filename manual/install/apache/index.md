# Установка на сервер Apache

Назад: Технические требования • К началу: Документация • Далее: Изучение на примерах

Содержание
Инсталлятор пишет об отсутствии поддержки баз данных
Инсталлятор не может подключиться к базе данных
Инсталлятор не может сохранить конфигурационный файл
Вместо главной страницы открывается список файлов
Главная страница сайта не открывается
Не определена функция mysqli_connect()
Как попасть в панель управления?
Установка движка на сервер Apache состоит из 4 основных шагов:

Ввод конфигурационных данных и создание файла config.php;
Первый запуск панели управления;
Установка двух базовых модулей − Настройки и Управление PHPC;
Первый запуск сайта.
Большую часть работы вам поможет проделать инсталлятор, который должен запуститься автоматически при первом заходе на сайт. Если инсталлятор не стартовал самостоятельно − запустите его вручную, дописав к адресу сайта /install/, но уже это свидетельствует о том, что в настройках сервера имеются ошибки.

Успешная установка движка должна закончиться появлением надписи "Поздравляем с успешной установкой системы PHP Compiler!" на главной странице сайта. Если во время установки что-то пошло не так − найдите свой случай в списке справа или далее по тексту.

Инсталлятор пишет об отсутствии поддержки баз данных

Для работы с базой данных MySQL движку необходим набор функций, которые начинаются с mysqli_. Эти функции являются частью библиотеки MySQLi (MySQL Improved), и по умолчанию идут вместе с PHP, но могут быть вручную отключены по тем или иным причинам − самостоятельная сборка PHP, параноидальный хостинг-провайдер... Если сервер не находится под вашим управлением, обратитесь к вашему хостеру с просьбой включить в PHP расширение php_mysqli. Если же у вас есть доступ к серверу, проделайте следующие шаги:

Найдите и откройте файл php.ini.
Раскомментируйте (уберите точку с запятой в начале) строку "extension=php_mysqli.dll".
Сохраните файл и перезагрузите сервер.
Если вы все сделаете правильно, после перезагрузки сервера в PHP появятся все необходимые функции и вы сможете продолжить установку.

Инсталлятор не может подключиться к базе данных

Здесь тоже нет ничего сложного. Причин может быть несколько:

Вы забыли создать новую базу данных MySQL для нужд движка.
Вы указываете движку неверные данные подключения к MySQL, т.е. неправильный логин или пароль.
На вашем сервере вообще не установлены базы данных MySQL (тяжелый случай).
Убедитесь в том, что новая база данных создана и что пользователь MySQL (его логин и пароль), которого вы указываете движку, имеет к ней доступ.

Кроме того, убедитесь, что вы указываете правильное значение в поле "Хост" − в 99 случаях из 100 правильным значением является localhost, но возможны ситуации, когда MySQL установлен на другом компьютере или прослушивает другой порт, отличный от стандартного. Если, например, сервер MySQL установлен на компьютере с названием databases и прослушивает порт 3333, в поле "Хост" нужно указать databases:3333.

Инсталлятор не может сохранить конфигурационный файл

Эта ошибка может возникать на файловой системе Unix с кривой настройкой сервера, когда запущенные скрипты PHP не имеют прав доступа к своим собственным файлам или же эти права минимальны (так называемый запуск с правами "nobody"). Чтобы обойти это ограничение, зайдите на ваш сервер через FTP, и на время установки движка вручную дайте каталогу /phpc/ права 777 (полный доступ для всех). Когда PHPC завершит процесс установки и сохранит файл config.php, зайдите на сервер через FTP повторно, и верните каталогу старые права доступа.

Вместо главной страницы открывается список файлов

Эта ошибка означает, что на вашем сервере отключена поддержка файлов .htaccess. Если сервер не находится под вашим управлением, обратитесь к вашему хостеру с просьбой включить поддержку файлов .htaccess. Если же доступ к серверу у вас есть, проделайте следующие шаги:

Найдите в каталоге Apache подкаталог conf, а в нем − файл httpd.conf, откройте его.
Найдите в файле директиву AllowOverride, которая отвечает за корневой каталог вашего сайта.
Убедитесь, что эта директива имеет значение All (AllowOverride All).
Сохраните файл и перезагрузите сервер.
Главная страница сайта не открывается

Если вместо главной страницы сайта открывается пустая страница, либо ошибка доступа (Forbidden), либо внутренняя ошибка сервера (Internal Server Error), причины могут быть следующие:

У вас отключена поддержка файлов .htaccess. О том, как ее включить, написано выше.
У вас отсутствует поддержка плагина mod_rewrite для Apache.
На Unix-сервере криво настроены права доступа к каталогам и файлам.
Имеет место быть какая-нибудь другая трудноуловимая ошибка в настройке сервера.
Скорее всего, проблема кроется в неработающем плагине mod_rewrite. Этот плагин нужен движку PHPC для поддержки красивых ссылок на страницы вашего будущего сайта. mod_rewrite в наши дни является стандартом, и настроен на большинстве хостингов, но если есть подозрение, что на вашем сервере этот плагин отключен, проделайте следующие шаги:

Найдите в каталоге Apache подкаталог conf, а в нем − файл httpd.conf, откройте его.
Найдите в этом файле строку "LoadModule rewrite_module modules/mod_rewrite.so". Либо, если у вас Windows-сборка, строку "LoadModule rewrite_module modules/ApacheModuleRewrite.dll".
Убедитесь, что эта строка не закомментирована, что в ее начале нет символа "#".
Если строка закомментирована − раскомментируйте ее (уберите знак решетки), сохраните файл и перезагрузите сервер.
Не определена функция mysqli_connect()

Такая ошибка может возникнуть, если вы перенесли проект с сервера, на котором есть поддержка библиотеки MySQLi (MySQL Improved), на сервер, на котором этой поддержки нет. О том, как подключить на сервере набор mysqli_ функций, написано в самом начале этой статьи.

Как попасть в панель управления?

Откройте главную страницу сайта и вручную добавьте к адресу сайта /admin/. Затем введите пароль администратора, который вы указали при установке движка, и вы в панели управления.

Если движок не пускает вас в админку, а вместо этого снова и снова требует пароль, причин может быть две:

Вы забыли пароль администратора и вводите его неправильно.
В вашем браузере отключена поддержка cookies. Включите ее либо воспользуйтесь другим браузером.
Если вы забыли пароль администратора, то единственный способ его восстановить − это зайти на ваш сайт через FTP, перейти в подкаталог /phpc/ и посмотреть содержимое файла config.php. Пароль администратора хранится в переменной $adminAccessRights. Иных способов получить или "сбросить" пароль администратора в PHPC нет.

Назад: Технические требования • К началу: Документация • Далее: Изучение на примерах