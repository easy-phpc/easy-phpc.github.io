Пример создания простого сайта

Назад: Изучение на примерах • К началу: Документация • Далее: Пример создания двухуровнего меню

Итак, вы только что установили у себя систему, все работает, в меню админской панели появилась куча непонятных пунктов, а при заходе на сайт появляется приветственная надпись. Поздравляю, половина работы уже проделана. :) Предположим, что вы хотите создать небольшой сайтик с простеньким дизайном, состоящий всего из 2 страниц − "Главная" и "О сайте". Приступим.

Шаг 1. "Натягиваем" дизайн

Если у вас уже есть готовый дизайн в виде HTML странички, то натянуть его на наш проект будет проще простого. Зайдите в админпанель и откройте шаблон htmlDesign (Шаблоны/Обзор/Свойства).

Что это такое? Это шаблон, который будет выводить на экран все страницы сайта. Подчеркиваю: ВСЕ. Один и тот же шаблон будет использоваться для разных страниц. Это очень удобно − центральная часть страницы (контент) хранится не здесь, а в другом месте, здесь же находится только общий для всех страниц дизайн. Если вы в будущем захотите изменить дизайн сайта, вам придется подправить только этот шаблон − и все страницы моментально изменят свой облик.

Как видите, изначально дизайн выглядит предельно просто − самые необходимые теги типа <html>...</html> и <body>...</body>, вывод названия страницы в заголовке (<title><var:currentPage:title></title>), подключение стилей (<insert:htmlStyles/>) и вставка центральной части страницы (<var:content>). Сотрите из текста шаблона все подчистую и вставьте вместо него ваш новый дизайн.

Важно

PHP Compiler − это система со встроенной поддержкой ЧПУ ("человеко-понятных URL"). Все ссылки выглядят в нем примерно так: yoursite.ru/article/sample/welcome, то есть, во-первых, у страниц нет расширений .html или .php, во-вторых, страницы выглядят так, словно разнесены по разным папкам (в данном случае − article/sample). На самом деле никаких папок нет, движок сам анализирует запрошенный адрес и генерирует необходимые страницы, но для того, чтобы ссылки на рисунки и прочие элементы дизайна работали правильно, следует использовать адреса, начинающиеся с символа "/". Например, вместо фрагмента:

<img width="100" height="100" src="images/design/title.gif">
в шаблоне следует написать:

<img width="100" height="100" src="/images/design/title.gif">
Всегда помните об этом, когда работаете с шаблонами.

Теперь имеет смысл вернуть обратно специальные теги:

Вставьте в подходящее место шаблона тег <var:currentPage:title> для вывода названия страницы;
Вставьте в подходящее место шаблона тег <insert:htmlStyles/> для подключения таблицы стилей сайта. Таблицу стилей рекомендуется хранить не в отдельном файле, а в шаблоне htmlStyles. Данный специальный тег просто вставляет один шаблон в другой;
Найдите в вашем дизайне место, отведенное под центральную часть страницы. Уберите оттуда все ненужное и вставьте туда тег <var:content>.
Сохраните шаблон и откройте главную страницу сайта. Если все прошло успешно, на экране должен отобразиться ваш дизайн, но приветственная надпись должна остаться, и если раньше она выводилась на пустом белом фоне, то теперь она должна отображаться в центральной части уже оформленного сайта.

Шаг 2. Создаем меню

Снова откройте шаблон htmlDesign. В любое подходящее место впишите фрагмент:

<insert:menu/>
Сохраните шаблон.

Теперь создайте новый шаблон (Шаблоны/Создать) со следующими свойствами:

Имя шаблона: menu
Предок: оставьте это поле пустым
Текст шаблона: впишите сюда что-нибудь наподобие:
Навигация<br><br>

<a href="/">На главную</a><br>
<a href="/about">О сайте</a><br>
Сохраните шаблон, после чего откройте главную страницу сайта и убедитесь, что меню появилось и работает. Размеется, оформление меню, равно как и его содержимое, остается целиком на ваше усмотрение. ;)

Шаг 3. Создаем вторую страницу

Главная страница у нас уже есть, и если нужно изменить ее содержимое − достаточно подправить шаблон index. Тут никаких проблем. Перейдем теперь к странице "О сайте". Поскольку ссылка в меню ведет на страницу about, нам следует создать эту самую страницу about.

Создайте новую страницу (Страницы сайта/Создать) со следующими свойствами:

Имя страницы: about
Внешнее имя: оставьте это поле пустым
Предок: general
Шаблон: about
Пакеты: оставьте это поле пустым
Заголовок на языке "Русский": О сайте
Дополнительные параметры: оставьте это поле пустым
Страница доступна пользователям? Да
Особенно мудрить со свойствами страницы нет нужды, просто укажите ей имя, предка, шаблон и заголовок. Сохраните страницу.

Теперь создайте новый шаблон со свойствами:

Имя шаблона: about
Предок: general (это важно!)
Текст шаблона: впишите сюда что-нибудь типа:
<area:content>

Это мой первый сайт на PHPC!<br>
Пока ничего не понятно, но я надеюсь разобраться, что тут к чему.<br>

</area:content>
Сохраните шаблон.

Теперь откройте главную страницу сайта, щелкните по ссылке "О сайте" в меню, и убедитесь, что новая страница появилась, работает и что она оформлена как надо. Точно так же можно создать третью страницу, четвертую, десятую и т. д. Просто не забывайте для каждой новой страницы создавать шаблон, который будет ее отображать. Зачем я сделал создание страниц и шаблонов по отдельности, спросите вы? Да потому, что в более сложных сайтах, особенно динамических, нередко случается так, что разные страницы отображаются одним и тем же шаблоном (а в результате выглядят по-разному), также бывают страницы и без шаблонов вовсе. Но это уже совсем другой разговор...

Удачи в освоении движка. И не бойтесь экспериментировать, даже если вы что-то сделаете не так, компилятор сразу же сообщит вам об этом, и вы легко сможете исправить ошибку.

Назад: Изучение на примерах • К началу: Документация • Далее: Пример создания двухуровнего меню